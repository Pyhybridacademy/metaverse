{% extends 'base.html' %}
{% load static %}
{% load math_filters %}
{% block title %}{{ site_settings.site_name|default:"Investment Platform" }} - Secure Investment Solutions{% endblock %}

{% block content %}
<!-- Navigation -->
<nav class="fixed top-0 left-0 right-0 z-50 glass-effect border-b border-purple-primary border-opacity-30">
    <div class="container mx-auto px-6">
        <div class="flex items-center justify-between h-16">
            <!-- Logo -->
            <div class="flex items-center space-x-3">
                {% if site_settings.site_logo %}
                    <img src="{{ site_settings.site_logo.url }}" alt="Logo" class="w-10 h-10">
                {% else %}
                    <div class="w-10 h-10 bg-gradient-to-r from-purple-primary to-purple-secondary rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-white text-xl"></i>
                    </div>
                {% endif %}
                <span class="text-xl font-bold text-white">{{ site_settings.site_name|default:"InvestPro" }}</span>
            </div>

            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="#home" class="text-gray-300 hover:text-white transition-colors">Home</a>
                <a href="#plans" class="text-gray-300 hover:text-white transition-colors">Plans</a>
                <a href="#features" class="text-gray-300 hover:text-white transition-colors">Features</a>
                <a href="#how-it-works" class="text-gray-300 hover:text-white transition-colors">How It Works</a>
                <a href="#contact" class="text-gray-300 hover:text-white transition-colors">Contact</a>
            </div>

            <!-- Desktop Auth Buttons -->
            <div class="hidden md:flex items-center space-x-4">
                {% if user.is_authenticated %}
                    <!-- Authenticated User Menu -->
                    <div class="flex items-center space-x-4">
                        <span class="text-gray-300">Welcome, {{ user.first_name|default:user.username }}!</span>
                        <a href="{% url 'core:dashboard' %}" class="inline-flex items-center px-6 py-2 bg-gradient-to-r from-purple-primary to-purple-secondary text-white font-medium rounded-lg hover:from-purple-secondary hover:to-purple-accent transition-all duration-200">
                            <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                        </a>
                        <a href="{% url 'accounts:logout' %}" class="text-gray-300 hover:text-red-400 transition-colors">
                            <i class="fas fa-sign-out-alt mr-1"></i>Logout
                        </a>
                    </div>
                {% else %}
                    <!-- Guest User Menu -->
                    <a href="{% url 'accounts:login' %}" class="text-gray-300 hover:text-white transition-colors">Sign In</a>
                    <a href="{% url 'accounts:register_step1' %}" class="px-6 py-2 bg-gradient-to-r from-purple-primary to-purple-secondary text-white font-medium rounded-lg hover:from-purple-secondary hover:to-purple-accent transition-all duration-200">
                        Get Started
                    </a>
                {% endif %}
            </div>

            <!-- Mobile Menu Button -->
            <button class="md:hidden text-white" id="mobile-menu-btn">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Navigation -->
    <div class="md:hidden hidden" id="mobile-menu">
        <div class="glass-effect border-t border-purple-primary border-opacity-30">
            <div class="container mx-auto px-6 py-4 space-y-4">
                <a href="#home" class="block text-gray-300 hover:text-white transition-colors">Home</a>
                <a href="#plans" class="block text-gray-300 hover:text-white transition-colors">Plans</a>
                <a href="#features" class="block text-gray-300 hover:text-white transition-colors">Features</a>
                <a href="#how-it-works" class="block text-gray-300 hover:text-white transition-colors">How It Works</a>
                <a href="#contact" class="block text-gray-300 hover:text-white transition-colors">Contact</a>
                
                <div class="pt-4 border-t border-gray-600 border-opacity-30 space-y-3">
                    {% if user.is_authenticated %}
                        <!-- Authenticated Mobile Menu -->
                        <div class="text-gray-300 text-sm">Welcome, {{ user.first_name|default:user.username }}!</div>
                        <a href="{% url 'core:dashboard' %}" class="block w-full text-center px-6 py-2 bg-gradient-to-r from-purple-primary to-purple-secondary text-white font-medium rounded-lg hover:from-purple-secondary hover:to-purple-accent transition-all duration-200">
                            <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                        </a>
                        <a href="{% url 'accounts:logout' %}" class="block text-center text-gray-300 hover:text-red-400 transition-colors">
                            <i class="fas fa-sign-out-alt mr-1"></i>Logout
                        </a>
                    {% else %}
                        <!-- Guest Mobile Menu -->
                        <a href="{% url 'accounts:login' %}" class="block text-gray-300 hover:text-white transition-colors">Sign In</a>
                        <a href="{% url 'accounts:register_step1' %}" class="block w-full text-center px-6 py-2 bg-gradient-to-r from-purple-primary to-purple-secondary text-white font-medium rounded-lg hover:from-purple-secondary hover:to-purple-accent transition-all duration-200">
                            Get Started
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section id="home" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 relative overflow-hidden">
    <!-- Animated Background Elements -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-primary opacity-20 rounded-full blur-3xl animate-pulse"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-purple-secondary opacity-20 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-accent opacity-10 rounded-full blur-3xl animate-pulse" style="animation-delay: 4s;"></div>
    </div>

    <div class="container mx-auto px-6 py-20 relative z-10">
        <div class="max-w-4xl mx-auto text-center">
            <div class="animate-fade-in">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">
                    <span class="text-white">Grow Your Wealth with</span>
                    <span class="block text-transparent bg-clip-text bg-gradient-to-r from-purple-primary via-purple-secondary to-purple-accent animate-gradient">
                        {{ site_settings.site_name|default:"Smart Investments" }}
                    </span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 text-gray-300 leading-relaxed max-w-3xl mx-auto">
                    Join thousands of investors earning consistent returns through our secure, regulated platform with guaranteed ROI up to {{ investment_plans.last.roi_percentage|default:"25" }}%.
                </p>
                <div class="flex flex-col sm:flex-row gap-6 justify-center mb-12">
                    <a href="{% url 'accounts:register_step1' %}" 
                       class="group inline-flex items-center px-8 py-4 bg-gradient-to-r from-purple-primary to-purple-secondary text-white font-bold rounded-xl hover:from-purple-secondary hover:to-purple-accent transform hover:scale-105 transition-all duration-300 shadow-2xl">
                        <i class="fas fa-rocket mr-3 group-hover:animate-bounce"></i>
                        Start Investing Now
                        <i class="fas fa-arrow-right ml-3 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                    <a href="#how-it-works" 
                       class="inline-flex items-center px-8 py-4 glass-effect border border-purple-primary border-opacity-50 text-white font-semibold rounded-xl hover:border-opacity-100 hover:bg-purple-primary hover:bg-opacity-20 transition-all duration-300">
                        <i class="fas fa-play mr-3"></i>How It Works
                    </a>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 animate-slide-up">
                <div class="glass-effect rounded-xl p-6 border border-purple-primary border-opacity-30 card-hover">
                    <div class="text-3xl md:text-4xl font-bold text-purple-primary mb-2 counter" data-target="{{ total_invested|floatformat:0|default:'2500000' }}">0</div>
                    <div class="text-gray-300 text-sm">Total Invested</div>
                </div>
                <div class="glass-effect rounded-xl p-6 border border-green-400 border-opacity-30 card-hover">
                    <div class="text-3xl md:text-4xl font-bold text-green-400 mb-2 counter" data-target="{{ total_users|default:'5000' }}">0</div>
                    <div class="text-gray-300 text-sm">Active Investors</div>
                </div>
                <div class="glass-effect rounded-xl p-6 border border-yellow-400 border-opacity-30 card-hover">
                    <div class="text-3xl md:text-4xl font-bold text-yellow-400 mb-2">{{ investment_plans.last.roi_percentage|default:"25" }}%</div>
                    <div class="text-gray-300 text-sm">Max ROI</div>
                </div>
                <div class="glass-effect rounded-xl p-6 border border-blue-400 border-opacity-30 card-hover">
                    <div class="text-3xl md:text-4xl font-bold text-blue-400 mb-2">24/7</div>
                    <div class="text-gray-300 text-sm">Support</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <a href="#plans" class="text-white opacity-70 hover:opacity-100 transition-opacity">
            <i class="fas fa-chevron-down text-2xl"></i>
        </a>
    </div>
</section>

<!-- Investment Plans Section -->
<section id="plans" class="py-20 bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900">
    <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">Choose Your Investment Plan</h2>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                Select from our carefully crafted plans starting from ${{ site_settings.minimum_deposit|default:"100" }}, designed to maximize your returns with diversified portfolios.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
            {% for plan in investment_plans %}
                <div class="glass-effect rounded-2xl border border-purple-primary border-opacity-30 overflow-hidden card-hover group {% if forloop.counter == 2 %}scale-105 border-purple-primary{% endif %} transition-all duration-300 hover:scale-105">
                    {% if forloop.counter == 2 %}
                        <div class="bg-gradient-to-r from-purple-primary to-purple-secondary p-1">
                            <div class="text-center py-2">
                                <span class="text-white font-semibold text-sm">üî• MOST POPULAR</span>
                            </div>
                        </div>
                    {% endif %}
                    
                    <div class="p-8">
                        <div class="text-center mb-8">
                            <div class="w-20 h-20 bg-gradient-to-r from-purple-primary to-purple-secondary rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform">
                                <i class="fas fa-{% cycle 'seedling' 'chart-line' 'crown' %} text-white text-3xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-3">{{ plan.name }}</h3>
                            <p class="text-gray-400">{{ plan.description|default:"Perfect for smart investors" }}</p>
                        </div>
                        
                        <div class="space-y-4 mb-8">
                            <div class="flex justify-between items-center p-3 glass-effect rounded-lg border border-gray-600 border-opacity-30">
                                <span class="text-gray-400">Minimum Investment:</span>
                                <span class="font-bold text-white">${{ plan.minimum_amount|floatformat:2 }}</span>
                            </div>
                            <div class="flex justify-between items-center p-3 glass-effect rounded-lg border border-gray-600 border-opacity-30">
                                <span class="text-gray-400">Maximum Investment:</span>
                                <span class="font-bold text-white">${{ plan.maximum_amount|floatformat:2 }}</span>
                            </div>
                            <div class="flex justify-between items-center p-3 glass-effect rounded-lg border border-green-400 border-opacity-30">
                                <span class="text-gray-400">ROI Percentage:</span>
                                <span class="font-bold text-green-400 text-xl">{{ plan.roi_percentage }}%</span>
                            </div>
                            <div class="flex justify-between items-center p-3 glass-effect rounded-lg border border-gray-600 border-opacity-30">
                                <span class="text-gray-400">Duration:</span>
                                <span class="font-bold text-white">{{ plan.duration_days }} days</span>
                            </div>
                        </div>
                        
                        <div class="glass-effect rounded-xl p-4 mb-6 border border-purple-primary border-opacity-30">
                            <div class="text-center">
                                <p class="text-gray-400 text-sm mb-2">Potential Return on $1,000</p>
                                <p class="text-3xl font-bold text-purple-primary">${{ 1000|add:plan.roi_percentage|mul:10 }}</p>
                            </div>
                        </div>
                        
                        <a href="{% url 'accounts:register_step1' %}" 
                           class="w-full bg-gradient-to-r from-purple-primary to-purple-secondary text-white py-4 px-6 rounded-xl font-semibold hover:from-purple-secondary hover:to-purple-accent transition-all duration-300 block text-center group-hover:scale-105">
                            Choose This Plan
                        </a>
                    </div>
                </div>
            {% empty %}
                <div class="col-span-3 text-center text-gray-400">
                    <i class="fas fa-chart-pie text-6xl mb-4 opacity-50"></i>
                    <p class="text-xl">Investment plans coming soon...</p>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Features Section -->
<section id="features" class="py-20 bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900">
    <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">Why Choose {{ site_settings.site_name|default:"Us" }}</h2>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                We provide a secure, transparent, and profitable investment platform backed by years of experience in financial markets.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
            <div class="glass-effect rounded-xl p-8 border border-blue-400 border-opacity-30 card-hover group">
                <div class="w-16 h-16 bg-gradient-to-r from-blue-400 to-blue-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                    <i class="fas fa-shield-alt text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Secure & Licensed</h3>
                <p class="text-gray-400">Fully regulated with advanced security measures to protect your investments and personal data.</p>
            </div>
            
            <div class="glass-effect rounded-xl p-8 border border-green-400 border-opacity-30 card-hover group">
                <div class="w-16 h-16 bg-gradient-to-r from-green-400 to-green-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                    <i class="fas fa-chart-line text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Guaranteed Returns</h3>
                <p class="text-gray-400">Enjoy consistent returns with our proven trading strategies and risk management.</p>
            </div>
            
            <div class="glass-effect rounded-xl p-8 border border-yellow-400 border-opacity-30 card-hover group">
                <div class="w-16 h-16 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                    <i class="fas fa-clock text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">24/7 Support</h3>
                <p class="text-gray-400">Our dedicated support team is available round the clock to assist you.</p>
            </div>
            
            <div class="glass-effect rounded-xl p-8 border border-purple-400 border-opacity-30 card-hover group">
                <div class="w-16 h-16 bg-gradient-to-r from-purple-400 to-purple-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                    <i class="fas fa-mobile-alt text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Mobile Friendly</h3>
                <p class="text-gray-400">Manage your investments on the go with our responsive platform.</p>
            </div>
            
            <div class="glass-effect rounded-xl p-8 border border-red-400 border-opacity-30 card-hover group">
                <div class="w-16 h-16 bg-gradient-to-r from-red-400 to-red-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                    <i class="fas fa-bolt text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Instant Withdrawals</h3>
                <p class="text-gray-400">Withdraw profits instantly with minimal processing time, starting at ${{ site_settings.minimum_withdrawal|floatformat:2 }}.</p>
            </div>
            
            <div class="glass-effect rounded-xl p-8 border border-indigo-400 border-opacity-30 card-hover group">
                <div class="w-16 h-16 bg-gradient-to-r from-indigo-400 to-indigo-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                    <i class="fas fa-users text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Referral Program</h3>
                <p class="text-gray-400">Earn {{ site_settings.referral_bonus_percentage|default:"5" }}% commission on referred users' first deposits.</p>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section id="how-it-works" class="py-20 bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900">
    <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">How It Works</h2>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                Start your investment journey in just a few simple steps with our secure and user-friendly platform.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8 max-w-6xl mx-auto">
            <div class="text-center group">
                <div class="relative mb-8">
                    <div class="w-24 h-24 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full flex items-center justify-center mx-auto group-hover:scale-110 transition-transform shadow-2xl">
                        <span class="text-3xl font-bold text-white">1</span>
                    </div>
                    <div class="absolute top-1/2 left-full w-full h-0.5 bg-gradient-to-r from-blue-400 to-transparent hidden md:block"></div>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Create Account</h3>
                <p class="text-gray-400">Sign up with your email and complete our secure KYC verification process in minutes.</p>
            </div>
            
            <div class="text-center group">
                <div class="relative mb-8">
                    <div class="w-24 h-24 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto group-hover:scale-110 transition-transform shadow-2xl">
                        <span class="text-3xl font-bold text-white">2</span>
                    </div>
                    <div class="absolute top-1/2 left-full w-full h-0.5 bg-gradient-to-r from-green-400 to-transparent hidden md:block"></div>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Make Deposit</h3>
                <p class="text-gray-400">Fund your account with a minimum of ${{ site_settings.minimum_deposit|floatformat:2 }} using Bitcoin, USDT, or Ethereum.</p>
            </div>
            
            <div class="text-center group">
                <div class="relative mb-8">
                    <div class="w-24 h-24 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center mx-auto group-hover:scale-110 transition-transform shadow-2xl">
                        <span class="text-3xl font-bold text-white">3</span>
                    </div>
                    <div class="absolute top-1/2 left-full w-full h-0.5 bg-gradient-to-r from-yellow-400 to-transparent hidden md:block"></div>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Choose Plan</h3>
                <p class="text-gray-400">Select an investment plan tailored to your financial goals and risk tolerance.</p>
            </div>
            
            <div class="text-center group">
                <div class="relative mb-8">
                    <div class="w-24 h-24 bg-gradient-to-r from-purple-primary to-purple-secondary rounded-full flex items-center justify-center mx-auto group-hover:scale-110 transition-transform shadow-2xl">
                        <span class="text-3xl font-bold text-white">4</span>
                    </div>
                </div>
                <h3 class="text-xl font-semibold text-white mb-4">Earn Returns</h3>
                <p class="text-gray-400">Watch your investment grow and withdraw profits after ${{ site_settings.minimum_withdrawal|floatformat:2 }}.</p>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
{% if testimonials %}
<section class="py-20 bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900">
    <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">What Our Investors Say</h2>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                Hear from our satisfied investors about their experience with {{ site_settings.site_name|default:"our platform" }}.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
            {% for testimonial in testimonials %}
                <div class="glass-effect rounded-xl p-8 border border-purple-primary border-opacity-30 card-hover">
                    <div class="flex items-center mb-6">
                        {% if testimonial.avatar %}
                            <img src="{{ testimonial.avatar.url }}" alt="{{ testimonial.name }}" class="w-16 h-16 rounded-full mr-4 border-2 border-purple-primary">
                        {% else %}
                            <div class="w-16 h-16 bg-gradient-to-r from-purple-primary to-purple-secondary rounded-full flex items-center justify-center mr-4">
                                <span class="text-white font-bold text-xl">{{ testimonial.name|first|upper }}</span>
                            </div>
                        {% endif %}
                        <div>
                            <h4 class="font-semibold text-white text-lg">{{ testimonial.name }}</h4>
                            {% if testimonial.position %}
                                <p class="text-sm text-gray-400">{{ testimonial.position }}</p>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="flex mb-4">
                        {% for i in "12345"|make_list %}
                            {% if forloop.counter <= testimonial.rating %}
                                <i class="fas fa-star text-yellow-400"></i>
                            {% else %}
                                <i class="fas fa-star text-gray-600"></i>
                            {% endif %}
                        {% endfor %}
                    </div>
                    
                    <p class="text-gray-300 italic leading-relaxed">"{{ testimonial.content|truncatewords:30 }}"</p>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- FAQ Section -->
<section class="py-20 bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900">
    <div class="container mx-auto px-6">
        <div class="text-center mb-16 animate-fade-in">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">Frequently Asked Questions</h2>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                Got questions? We've got answers about investing with {{ site_settings.site_name|default:"us" }}.
            </p>
        </div>
        
        <div class="max-w-4xl mx-auto space-y-4">
            <div class="glass-effect rounded-xl border border-purple-primary border-opacity-30 overflow-hidden">
                <button class="w-full flex justify-between items-center text-left p-6 text-lg font-semibold text-white focus:outline-none faq-toggle hover:bg-purple-primary hover:bg-opacity-10 transition-colors">
                    What is the minimum investment amount?
                    <i class="fas fa-chevron-down text-purple-primary transition-transform"></i>
                </button>
                <div class="px-6 pb-6 text-gray-300 hidden faq-content">
                    The minimum investment amount is ${{ site_settings.minimum_deposit|floatformat:2 }}. You can start with any of our plans to suit your budget and investment goals.
                </div>
            </div>
            
            <div class="glass-effect rounded-xl border border-purple-primary border-opacity-30 overflow-hidden">
                <button class="w-full flex justify-between items-center text-left p-6 text-lg font-semibold text-white focus:outline-none faq-toggle hover:bg-purple-primary hover:bg-opacity-10 transition-colors">
                    How secure is my investment?
                    <i class="fas fa-chevron-down text-purple-primary transition-transform"></i>
                </button>
                <div class="px-6 pb-6 text-gray-300 hidden faq-content">
                    Your investments are protected by advanced encryption, multi-factor authentication, and insurance. We are fully licensed and regulated by financial authorities.
                </div>
            </div>
            
            <div class="glass-effect rounded-xl border border-purple-primary border-opacity-30 overflow-hidden">
                <button class="w-full flex justify-between items-center text-left p-6 text-lg font-semibold text-white focus:outline-none faq-toggle hover:bg-purple-primary hover:bg-opacity-10 transition-colors">
                    How can I withdraw my profits?
                    <i class="fas fa-chevron-down text-purple-primary transition-transform"></i>
                </button>
                <div class="px-6 pb-6 text-gray-300 hidden faq-content">
                    You can withdraw profits starting at ${{ site_settings.minimum_withdrawal|floatformat:2 }} to your cryptocurrency wallet or bank account after the investment period completes.
                </div>
            </div>
            
            <div class="glass-effect rounded-xl border border-purple-primary border-opacity-30 overflow-hidden">
                <button class="w-full flex justify-between items-center text-left p-6 text-lg font-semibold text-white focus:outline-none faq-toggle hover:bg-purple-primary hover:bg-opacity-10 transition-colors">
                    What is the referral program?
                    <i class="fas fa-chevron-down text-purple-primary transition-transform"></i>
                </button>
                <div class="px-6 pb-6 text-gray-300 hidden faq-content">
                    Earn a {{ site_settings.referral_bonus_percentage|default:"5" }}% commission on the first deposit of anyone you refer to our platform. Share your referral link and start earning today!
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-20 bg-gradient-to-r from-purple-primary via-purple-secondary to-purple-accent relative overflow-hidden">
    <div class="absolute inset-0 bg-black bg-opacity-20"></div>
    <div class="container mx-auto px-6 text-center relative z-10">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">Ready to Start Your Investment Journey?</h2>
            <p class="text-xl mb-8 text-purple-100 max-w-2xl mx-auto">
                Join {{ total_users|default:"thousands" }} investors earning up to {{ investment_plans.last.roi_percentage|default:"25" }}% ROI. Start with just ${{ site_settings.minimum_deposit|floatformat:2 }}.
            </p>
            <div class="flex flex-col sm:flex-row gap-6 justify-center mb-12">
                <a href="{% url 'accounts:register_step1' %}" 
                   class="inline-flex items-center px-8 py-4 bg-white text-purple-primary font-bold rounded-xl hover:bg-gray-100 transform hover:scale-105 transition-all duration-300 shadow-2xl">
                    <i class="fas fa-user-plus mr-3"></i>Create Free Account
                </a>
                <a href="#contact" 
                   class="inline-flex items-center px-8 py-4 glass-effect border-2 border-white text-white font-semibold rounded-xl hover:bg-white hover:text-purple-primary transition-all duration-300">
                    <i class="fas fa-phone mr-3"></i>Contact Us
                </a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
                <div class="text-center">
                    <div class="text-2xl font-bold text-white mb-2">‚ú® No Hidden Fees</div>
                    <p class="text-purple-100">Transparent pricing with no surprises.</p>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-white mb-2">‚ö° Instant Setup</div>
                    <p class="text-purple-100">Get started in less than 5 minutes.</p>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-white mb-2">üõ°Ô∏è Money Back Guarantee</div>
                    <p class="text-purple-100">30-day money back guarantee for peace of mind.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer id="contact" class="bg-gray-900 text-white py-16">
    <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
            <div>
                <div class="flex items-center mb-6">
                    {% if site_settings.site_logo %}
                        <img src="{{ site_settings.site_logo.url }}" alt="Logo" class="w-10 h-10 mr-3">
                    {% else %}
                        <div class="w-10 h-10 bg-gradient-to-r from-purple-primary to-purple-secondary rounded-lg flex items-center justify-center mr-3">
                            <i class="fas fa-chart-line text-white"></i>
                        </div>
                    {% endif %}
                    <span class="text-2xl font-bold">{{ site_settings.site_name|default:"InvestPro" }}</span>
                </div>
                <p class="text-gray-400 mb-6 leading-relaxed">
                    Your trusted partner for secure and profitable investments. Building wealth through smart investment strategies since {{ "now"|date:"Y" }}.
                </p>
                <div class="flex space-x-4">
                    <a href="#" class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-purple-primary transition-all">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-purple-primary transition-all">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-purple-primary transition-all">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="#" class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-white hover:bg-purple-primary transition-all">
                        <i class="fab fa-telegram"></i>
                    </a>
                </div>
            </div>
            
            <div>
                <h3 class="text-lg font-semibold mb-6 text-purple-primary">Quick Links</h3>
                <ul class="space-y-3">
                    <li><a href="#home" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                    <li><a href="#plans" class="text-gray-400 hover:text-white transition-colors">Investment Plans</a></li>
                    <li><a href="#features" class="text-gray-400 hover:text-white transition-colors">Features</a></li>
                    <li><a href="#how-it-works" class="text-gray-400 hover:text-white transition-colors">How It Works</a></li>
                    <li><a href="{% url 'accounts:login' %}" class="text-gray-400 hover:text-white transition-colors">Login</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="text-lg font-semibold mb-6 text-purple-primary">Legal</h3>
                <ul class="space-y-3">
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Terms of Service</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Privacy Policy</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Risk Disclosure</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Refund Policy</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Compliance</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="text-lg font-semibold mb-6 text-purple-primary">Contact Info</h3>
                <ul class="space-y-4 text-gray-400">
                    <li class="flex items-center">
                        <i class="fas fa-envelope mr-3 text-purple-primary"></i>
                        {{ site_settings.contact_email|default:"support@investpro.com" }}
                    </li>
                    {% if site_settings.contact_phone %}
                        <li class="flex items-center">
                            <i class="fas fa-phone mr-3 text-purple-primary"></i>
                            {{ site_settings.contact_phone }}
                        </li>
                    {% endif %}
                    <li class="flex items-center">
                        <i class="fas fa-clock mr-3 text-purple-primary"></i>
                        24/7 Customer Support
                    </li>
                </ul>
                
                <div class="mt-8">
                    <h4 class="font-semibold mb-4 text-white">Newsletter</h4>
                    <form class="flex">
                        <input type="email" placeholder="Your email" 
                               class="flex-1 px-4 py-3 bg-gray-800 border border-gray-700 rounded-l-xl text-white focus:outline-none focus:border-purple-primary transition-colors">
                        <button type="submit" 
                                class="px-6 py-3 bg-gradient-to-r from-purple-primary to-purple-secondary text-white rounded-r-xl hover:from-purple-secondary hover:to-purple-accent transition-all">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="border-t border-gray-800 pt-8 text-center">
            <p class="text-gray-400 mb-4">¬© {{ "now"|date:"Y" }} {{ site_settings.site_name|default:"InvestPro" }}. All rights reserved.</p>
            <p class="text-sm text-gray-500">
                Investment involves risk. Past performance is not indicative of future results. Please invest responsibly.
            </p>
        </div>
    </div>
</footer>

<script>
// Mobile menu toggle
document.getElementById('mobile-menu-btn').addEventListener('click', function() {
    const mobileMenu = document.getElementById('mobile-menu');
    const icon = this.querySelector('i');
    
    mobileMenu.classList.toggle('hidden');
    icon.classList.toggle('fa-bars');
    icon.classList.toggle('fa-times');
});

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobile-menu');
            const menuBtn = document.getElementById('mobile-menu-btn');
            const icon = menuBtn.querySelector('i');
            
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        }
    });
});

// FAQ toggle functionality
document.querySelectorAll('.faq-toggle').forEach(button => {
    button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        const icon = button.querySelector('i');
        
        content.classList.toggle('hidden');
        icon.classList.toggle('fa-chevron-down');
        icon.classList.toggle('fa-chevron-up');
        icon.classList.toggle('rotate-180');
    });
});

// Counter animation
function animateCounters() {
    const counters = document.querySelectorAll('.counter');
    
    counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-target'));
        const increment = target / 100;
        let current = 0;
        
        const updateCounter = () => {
            if (current < target) {
                current += increment;
                if (target >= 1000000) {
                    counter.textContent = (current / 1000000).toFixed(1) + 'M+';
                } else if (target >= 1000) {
                    counter.textContent = (current / 1000).toFixed(1) + 'K+';
                } else {
                    counter.textContent = Math.ceil(current) + '+';
                }
                setTimeout(updateCounter, 20);
            } else {
                if (target >= 1000000) {
                    counter.textContent = (target / 1000000).toFixed(1) + 'M+';
                } else if (target >= 1000) {
                    counter.textContent = (target / 1000).toFixed(1) + 'K+';
                } else {
                    counter.textContent = target + '+';
                }
            }
        };
        
        updateCounter();
    });
}

// Intersection Observer for animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('animate-fade-in');
            
            // Trigger counter animation when stats section is visible
            if (entry.target.querySelector('.counter')) {
                animateCounters();
            }
        }
    });
}, observerOptions);

// Observe elements for animation
document.querySelectorAll('.animate-fade-in, .animate-slide-up').forEach(el => {
    observer.observe(el);
});

// Navbar background on scroll
window.addEventListener('scroll', () => {
    const nav = document.querySelector('nav');
    if (window.scrollY > 100) {
        nav.classList.add('bg-gray-900', 'bg-opacity-95');
    } else {
        nav.classList.remove('bg-gray-900', 'bg-opacity-95');
    }
});

// Add CSS animations
const style = document.createElement('style');
style.textContent = `
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slideUp {
        from { opacity: 0; transform: translateY(50px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    
    .animate-fade-in {
        animation: fadeIn 0.8s ease-out forwards;
    }
    
    .animate-slide-up {
        animation: slideUp 0.8s ease-out forwards;
    }
    
    .animate-gradient {
        background-size: 200% 200%;
        animation: gradient 3s ease infinite;
    }
    
    .card-hover {
        transition: all 0.3s ease;
    }
    
    .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
    }
    
    .glass-effect {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}