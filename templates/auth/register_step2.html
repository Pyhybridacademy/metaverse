{% extends 'base.html' %}

{% block title %}Register - Step 2 - {{ site_settings.site_name|default:"Investment Platform" }}{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        <div class="text-center">
            <div class="mx-auto h-16 w-16 bg-gradient-to-r from-purple-primary to-purple-secondary rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-user-check text-white text-2xl"></i>
            </div>
            <h2 class="text-4xl font-bold text-white mb-2">
                Complete Profile
            </h2>
            <p class="text-gray-300 mb-2">Step 2 of 2 - Additional Information</p>
            <div class="flex justify-center space-x-2 mb-6">
                <div class="w-8 h-2 bg-gray-600 rounded-full"></div>
                <div class="w-8 h-2 bg-purple-primary rounded-full"></div>
            </div>
        </div>
        
        <div class="glass-effect rounded-xl border border-purple-primary border-opacity-30 p-8">
            <form class="space-y-6" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                <div>
                    <label for="{{ form.state.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">State/Province</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-map-marker-alt text-gray-400"></i>
                        </div>
                        <input type="text" name="state" id="{{ form.state.id_for_label }}"
                               class="w-full pl-10 pr-4 py-3 bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-primary focus:border-transparent transition-all" 
                               placeholder="Enter your state or province">
                    </div>
                    {% if form.state.errors %}
                        <p class="mt-1 text-sm text-red-400">{{ form.state.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <div>
                    <label for="{{ form.country.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">Country</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-globe text-gray-400"></i>
                        </div>
                        <input type="text" name="country" id="{{ form.country.id_for_label }}"
                               class="w-full pl-10 pr-4 py-3 bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-primary focus:border-transparent transition-all" 
                               placeholder="Enter your country">
                    </div>
                    {% if form.country.errors %}
                        <p class="mt-1 text-sm text-red-400">{{ form.country.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <div>
                    <label for="{{ form.currency.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">Preferred Currency</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-dollar-sign text-gray-400"></i>
                        </div>
                        <select name="currency" id="{{ form.currency.id_for_label }}"
                                class="w-full pl-10 pr-4 py-3 bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-primary focus:border-transparent transition-all">
                            <option value="">Select currency</option>
                            <option value="USD">USD - US Dollar</option>
                            <option value="EUR">EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                        </select>
                    </div>
                    {% if form.currency.errors %}
                        <p class="mt-1 text-sm text-red-400">{{ form.currency.errors.0 }}</p>
                    {% endif %}
                </div>
                
                <div>
                    <label for="{{ form.referral_code.id_for_label }}" class="block text-sm font-medium text-gray-300 mb-2">Referral Code (Optional)</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-users text-gray-400"></i>
                        </div>
                        <input type="text" name="referral_code" id="{{ form.referral_code.id_for_label }}"
                               class="w-full pl-10 pr-4 py-3 bg-gray-700 bg-opacity-50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-primary focus:border-transparent transition-all" 
                               placeholder="Enter referral code if you have one">
                    </div>
                    {% if form.referral_code.errors %}
                        <p class="mt-1 text-sm text-red-400">{{ form.referral_code.errors.0 }}</p>
                    {% endif %}
                    <p class="mt-1 text-xs text-gray-500">Enter a referral code if you were referred by someone</p>
                </div>
                
                <!-- KYC Document Upload -->
                <div class="border-t border-gray-600 border-opacity-30 pt-6">